<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="notice">

<!--1.글목록보기  -->

<select id="noticeList" resultType="Notice">
  select * from notice order by notice_number desc
</select>

<!-- 2.글쓰기(게시물 번호 최대값구하기) -->
<select id="getNewNum" resultType="int">
   select max(notice_number) from notice
</select>

<!-- 3.글쓰기 -->
<insert id="write" parameterType="Notice">
    insert into notice(notice_number, notice_title, notice_content, notice_regdate, admin_id)
    values(#{notice_number},#{notice_title},#{notice_content}, sysdate, #{admin_id})
</insert>

<!-- 4.글 상세보기(조회수증가)  -->
<update id="updateReadcnt" parameterType="int">
   update notice set notice_hit=notice_hit+1 where notice_number=#{notice_number}
</update>

<!-- 5.게시물번호에 해당하는 레코드 한개 얻어오기 -->
<select id="retrieve" parameterType="int" resultType="Notice">
    select * from notice where notice_number=#{notice_number}
</select>
 
 <!-- 6.글 수정하기 -->
 <update id="update" parameterType="Notice">
 	update notice set notice_title=#{notice_title}, notice_content=#{notice_content} where notice_number=#{notice_number}
 </update>
 
 <!-- 7.글 삭제하기 -->
 <delete id='delete' parameterType="int">
 	delete from notice where notice_number=#{notice_number}
 </delete>
 
</mapper>
